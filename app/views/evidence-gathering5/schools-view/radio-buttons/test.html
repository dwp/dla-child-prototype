{% extends "layouts/main.html" %}
{% block header %}
{{ super() }}
{% from "govuk/components/service-navigation/macro.njk" import govukServiceNavigation %}
 
{{ govukServiceNavigation({
  serviceName: "Provide supporting information for Disability Living Allowance (DLA) for children",
  serviceUrl: "#"
}) }}
{% endblock %}

{% block pageTitle %}
   {{ serviceName }} â€“ GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}

{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">Submit your application</h1>

```
  <form method="post" action="/submit-application" id="main-form">
   
    <!-- Your form content here -->
    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
          Application details
        </legend>
       
        {{ govukInput({
          label: {
            text: "Full name"
          },
          id: "full-name",
          name: "full-name",
          autocomplete: "name"
        }) }}
       
        {{ govukInput({
          label: {
            text: "Email address"
          },
          id: "email",
          name: "email",
          type: "email",
          autocomplete: "email"
        }) }}
      </fieldset>
    </div>

    {{ govukCheckboxes({
      name: "accept-terms",
      items: [
        {
          value: "accepted",
          text: "I want to print a copy of my application",
          id: "accept-terms"
        }
      ]
    }) }}

    {{ govukButton({
      text: "Accept and send",
      type: "submit"
    }) }}
  </form>
</div>
```

  </div>

  <script>
    document.getElementById('main-form').addEventListener('submit', function(e) {
      e.preventDefault();
     
      const checkbox = document.getElementById('accept-terms');
     
      if (checkbox && checkbox.checked) {
        // If checkbox is checked, trigger print then navigate
        window.print();
       
        // Handle after print
        const handleAfterPrint = function() {
          window.location.href = 'confirmation';
          window.removeEventListener('afterprint', handleAfterPrint);
        };
       
        window.addEventListener('afterprint', handleAfterPrint);
       
        // Fallback for browsers that don't support afterprint
        setTimeout(function() {
          window.location.href = 'confirmation';
          window.removeEventListener('afterprint', handleAfterPrint);
        }, 1000);
      } else {
        // If checkbox not checked, go directly to confirmation
        window.location.href = 'confirmation';
      }
    });
  </script>

{% endblock %}